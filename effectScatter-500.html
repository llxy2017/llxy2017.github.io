<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
   </head>
   <body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="echarts-all-3.js"></script>
       <script type="text/javascript" src="ecStat.min.js"></script>
       <script type="text/javascript" src="dataTool.min.js"></script>
       <script type="text/javascript" src="china.js"></script>
       <script type="text/javascript" src="world.js"></script>
       <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
       <script type="text/javascript" src="bmap.min.js"></script>
       <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
option = null;
var data = [
  {name:'同济大学', value: 421},
  {name:'豫园', value: 229},
  {name:'市光路', value: 712},
  {name:'江湾体育场', value: 703},
  {name:'合川路', value: 123},
  {name:'大场镇', value: 205},
  {name:'爱国路', value: 246},
  {name:'五角场', value: 701},
  {name:'新江湾城', value: 281},
  {name:'大木桥路', value: 331},
  {name:'嫩江路', value: 601},
  {name:'上南路', value: 37},
  {name:'虹口足球场', value: 717},
  {name:'交通大学', value: 265},
  {name:'航中路', value: 110},
  {name:'共康路', value: 506},
  {name:'巨峰路', value: 40},
  {name:'三门路', value: 295},
  {name:'上海动物园', value: 69},
  {name:'黄兴路', value: 421},
  {name:'周浦东', value: 3},
  {name:'南京东路', value: 350},
  {name:'徐家汇', value: 407},
  {name:'老西门', value: 276},
  {name:'南京西路', value: 312},
  {name:'邮电新村', value: 309},
  {name:'上海南站', value: 272},
  {name:'打浦桥', value: 470},
  {name:'上海科技馆', value: 35},
  {name:'曲阳路', value: 477},
  {name:'长寿路', value: 270},
  {name:'虹桥路', value: 231},
  {name:'祁连山南路', value: 283},
  {name:'四平路', value: 377},
  {name:'静安寺', value: 421},
  {name:'国权路', value: 297},
  {name:'上海火车站', value: 266},
  {name:'宋园路', value: 188},
  {name:'上海体育馆', value: 217},
  {name:'上海西站', value: 272},
  {name:'海伦路', value: 321},
  {name:'华夏西路', value: 3},
  {name:'黄陂南路', value: 205},
  {name:'北新泾', value: 126},
  {name:'水城路', value: 99},
  {name:'殷高东路', value: 168},
  {name:'人民广场', value: 340},
  {name:'莘庄', value: 145},
  {name:'桂林路', value: 241},
  {name:'大华三路', value: 313},
  {name:'新天地', value: 329},
  {name:'淞发路', value: 124},
  {name:'大渡河路', value: 181},
  {name:'嘉善路', value: 314},
  {name:'场中路', value: 169},
  {name:'新村路', value: 262},
  {name:'江浦路', value: 436},
  {name:'翔殷路', value: 361},
  {name:'延长路', value: 333},
  {name:'江浦公园', value: 286},
  {name:'肇嘉浜路', value: 211},
  {name:'黄兴公园', value: 307},
  {name:'隆昌路', value: 338},
  {name:'莲花路', value: 216},
  {name:'延吉中路', value: 544},
  {name:'博兴路', value: 39},
  {name:'银都路', value: 15},
  {name:'金沙江路', value: 291},
  {name:'世纪大道', value: 61},
  {name:'上海马戏城', value: 414},
  {name:'彭浦新村', value: 363},
  {name:'杨树浦路', value: 97},
  {name:'常熟路', value: 258},
  {name:'龙耀路', value: 125},
  {name:'中山公园', value: 280},
  {name:'大连路', value: 359},
  {name:'新闸路', value: 174},
  {name:'后滩', value: 11},
  {name:'娄山关路', value: 284},
  {name:'威宁路', value: 164},
  {name:'小南门', value: 230},
  {name:'鲁班路', value: 369},
  {name:'浦三路', value: 36},
  {name:'镇坪路', value: 394},
  {name:'上大路', value: 95},
  {name:'陆家浜路', value: 340},
  {name:'龙华中路', value: 142},
  {name:'申江路', value: 19},
  {name:'马当路', value: 258},
  {name:'东陆路', value: 38},
  {name:'源深体育中心', value: 41},
  {name:'金运路', value: 345},
  {name:'丰庄', value: 172},
  {name:'衡山路', value: 80},
  {name:'岚皋路', value: 225},
  {name:'通河新村', value: 314},
  {name:'呼兰路', value: 155},
  {name:'中兴路', value: 290},
  {name:'临平路', value: 372},
  {name:'曲阜路', value: 131},
  {name:'复兴岛', value: 37},
  {name:'上海体育场', value: 358},
  {name:'武宁路', value: 192},
  {name:'桃浦新村', value: 336},
  {name:'行知路', value: 384},
  {name:'云锦路', value: 98},
  {name:'东安路', value: 288},
  {name:'曹杨路', value: 293},
  {name:'汶水路', value: 320},
  {name:'国际客运中心', value: 178},
  {name:'真北路', value: 228},
  {name:'上海图书馆', value: 278},
  {name:'宁国路', value: 335},
  {name:'隆德路', value: 129},
  {name:'商城路', value: 33},
  {name:'中华艺术宫', value: 49},
  {name:'中山北路', value: 263},
  {name:'云台路', value: 29},
  {name:'刘行', value: 55},
  {name:'昌平路', value: 260},
  {name:'四川北路', value: 319},
  {name:'淞虹路', value: 310},
  {name:'花木路', value: 50},
  {name:'杨高中路', value: 38},
  {name:'大世界', value: 361},
  {name:'西藏北路', value: 361},
  {name:'鞍山新村', value: 397},
  {name:'陕西南路', value: 350},
  {name:'顾村公园', value: 107},
  {name:'提篮桥', value: 203},
  {name:'西藏南路', value: 238},
  {name:'陆家嘴', value: 36},
  {name:'武威路', value: 55},
  {name:'龙华', value: 120},
  {name:'祁连山路', value: 202},
  {name:'龙溪路', value: 70},
  {name:'成山路', value: 73},
  {name:'云山路', value: 66},
  {name:'上海游泳馆', value: 157},
  {name:'浦东大道', value: 39},
  {name:'中春路', value: 83},
  {name:'金沙江西路', value: 104},
  {name:'芳华路', value: 25},
  {name:'真如', value: 187},
  {name:'漕宝路', value: 233},
  {name:'天潼路', value: 149},
  {name:'锦江乐园', value: 139},
  {name:'长清路', value: 50},
  {name:'江苏路', value: 253},
  {name:'唐镇', value: 9},
  {name:'漕河泾开发区', value: 153},
  {name:'颛桥', value: 11},
  {name:'芦恒路', value: 44},
  {name:'凌兆新村', value: 28},
  {name:'浦电路', value: 69},
  {name:'龙柏新村', value: 145},
  {name:'锦绣路', value: 75},
  {name:'水产路', value: 24},
  {name:'九亭', value: 91},
  {name:'宜山路', value: 293},
  {name:'汉中路', value: 114},
  {name:'外环路', value: 60},
  {name:'张江高科', value: 14},
  {name:'民生路', value: 34},
  {name:'星中路', value: 42},
  {name:'宝安公路', value: 70},
  {name:'龙阳路', value: 63},
  {name:'德平路', value: 40},
  {name:'东明路', value: 47},
  {name:'七宝', value: 32},
  {name:'塘桥', value: 57},
  {name:'虹桥1号航站楼', value: 25},
  {name:'友谊西路', value: 23},
  {name:'三林东', value: 39},
  {name:'蓝村路', value: 47},
  {name:'伊犁路', value: 85},
  {name:'枫桥路', value: 184},
  {name:'杨高南路', value: 49},
  {name:'临沂新村', value: 56},
  {name:'高青路', value: 17},
  {name:'高科西路', value: 49},
  {name:'杨思', value: 64},
  {name:'世纪公园', value: 66},
  {name:'金科路', value: 21},
  {name:'金桥路', value: 67},
  {name:'南陈路', value: 56},
  {name:'共富新村', value: 77},
  {name:'徐泾东', value: 7},
  {name:'鹤沙航城', value: 5},
  {name:'广兰路', value: 22},
  {name:'灵岩南路', value: 41},
  {name:'东昌路', value: 86},
  {name:'御桥', value: 26},
  {name:'北洋泾路', value: 19},
  {name:'上海儿童医学中心', value: 26},
  {name:'华夏东路', value: 7},
  {name:'虹桥火车站', value: 30},
  {name:'三林', value: 57},
  {name:'富锦路', value: 33},
  {name:'罗山路', value: 5},
  {name:'紫藤路', value: 16},
  {name:'张华浜', value: 16},
  {name:'耀华路', value: 34},
  {name:'杨高北路', value: 28},
  {name:'春申路', value: 27},
  {name:'潘广路', value: 12},
  {name:'东方体育中心', value: 19},
  {name:'金平路', value: 1},
  {name:'剑川路', value: 6},
  {name:'金京路', value: 6},
  {name:'南翔', value: 6},
  {name:'川沙', value: 5},
  {name:'滴水湖', value: 1},
  {name:'北桥', value: 6},
  {name:'闵行开发区', value: 1},
  {name:'华宁路', value: 6},
  {name:'东川路', value: 2},
  {name:'航头东', value: 1},
  {name:'华夏中路', value: 1}
];
var geoCoordMap = {
  '七宝':[121.34730322077849, 31.16306093297505],
  '三林':[121.521031217875, 31.1493620997286],
  '三林东':[121.531940482447, 31.152576383482298],
  '三门路':[121.516701970497, 31.319142770239598],
  '上南路':[121.515119626155, 31.1551637566342],
  '上大路':[121.417885849641, 31.3195748806293],
  '上海体育场':[121.45241991565099, 31.1915729261726],
  '上海体育馆':[121.44541323963651, 31.1884066357451],
  '上海儿童医学中心':[121.532633183033, 31.210101778629298],
  '上海动物园':[121.376731008614, 31.1962452874443],
  '上海南站':[121.438842617854, 31.1607395895589],
  '上海图书馆':[121.452145590312, 31.2136222838631],
  '上海游泳馆':[121.45007635319399, 31.1854477079157],
  '上海火车站':[121.464512030105, 31.2532793221397],
  '上海科技馆':[121.551667556516, 31.2258113624343],
  '上海西站':[121.408228596342, 31.2700733628282],
  '上海马戏城':[121.460827707863, 31.2853675807429],
  '世纪公园':[121.5592164374, 31.2166304304536],
  '世纪大道':[121.53580100764813, 31.2347962735357],
  '东安路':[121.46344776208299, 31.1966885420833],
  '东川路':[121.428588432564, 31.0242273666331],
  '东方体育中心':[121.489058864011, 31.1594986113927],
  '东昌路':[121.524376985598, 31.2392720606293],
  '东明路':[121.519713704628, 31.1787885576823],
  '东陆路':[121.58757652578299, 31.2885478716405],
  '中兴路':[121.477338777705, 31.260518818561298],
  '中华艺术宫':[121.50245267166599, 31.1910241500072],
  '中山公园':[121.424917285109, 31.2242734201887],
  '中山北路':[121.468085092914, 31.2655675961504],
  '中春路':[121.34748109456, 31.1559117486967],
  '丰庄':[121.364018949373, 31.2484761751253],
  '临平路':[121.509593994986, 31.2670004656423],
  '临沂新村':[121.526260390692, 31.1997635909819],
  '临港大道':[121.919369430816, 30.9296582180995],
  '九亭':[121.327405669177, 31.1433597763493],
  '书院':[121.85937020124899, 30.9653125350712],
  '云台路':[121.509066487025, 31.1882722421932],
  '云山路':[121.580710808706, 31.2560009768848],
  '云锦路':[121.467149439857, 31.1736288549731],
  '五角场':[121.523197886584, 31.3037613186649],
  '交通大学':[121.443999116273, 31.2083111783685],
  '人民广场':[121.4832474675215, 31.238944407520997],
  '伊犁路':[121.411367655153, 31.2052876368602],
  '兆丰路':[121.158748692919, 31.2950953353533],
  '光明路':[121.12588193184, 31.3023289585715],
  '共富新村':[121.44291980288399, 31.3611763780449],
  '共康路':[121.455381284669, 31.3259324046869],
  '凌兆新村':[121.497987403689, 31.147133575382398],
  '凌空路':[121.731919919082, 31.198714376212898],
  '刘行':[121.373044460454, 31.3619185287586],
  '创新中路':[121.682897751141, 31.219518644574798],
  '剑川路':[121.42529640032, 31.0324988273251],
  '北新泾':[121.38144960436699, 31.222988932130498],
  '北桥':[121.4187513453, 31.0511088157045],
  '北洋泾路':[121.560789417487, 31.2450593753863],
  '华夏东路':[121.689710051432, 31.202792288071098],
  '华夏中路':[121.591861941925, 31.1818305307211],
  '华夏西路':[121.523414148328, 31.155936661059798],
  '华宁路':[121.404036466707, 31.013500457110098],
  '南京东路':[121.4930907223345, 31.24336347518485],
  '南京西路':[121.469305965662, 31.235979375541998],
  '南翔':[121.314123230051, 31.2873016636048],
  '南陈路':[121.405956111994, 31.327376346577],
  '博兴路':[121.59568025001799, 31.269982145790298],
  '友谊西路':[121.436434536903, 31.3878862992531],
  '合川路':[121.393702567326, 31.1731549378555],
  '同济大学':[121.51537186453275, 31.288696219870076],
  '后滩':[121.48071132173399, 31.1792191038065],
  '周浦东':[121.61563515811, 31.1161389206167],
  '呼兰路':[121.446401465705, 31.3460769275434],
  '唐镇':[121.664728151825, 31.220120221455698],
  '商城路':[121.525145390522, 31.2364987131463],
  '嘉善路':[121.46965529280399, 31.2087500073437],
  '四川北路':[121.492706537479, 31.2578081892148],
  '四平路':[121.510175492214, 31.28087740674635],
  '国权路':[121.518740161702, 31.2952892117012],
  '国际客运中心':[121.50713708008, 31.2561810874267],
  '场中路':[121.422486581615, 31.308671324063],
  '塘桥':[121.527060206584, 31.2156715282098],
  '复兴岛':[121.569935014656, 31.286811842770998],
  '外环路':[121.40170996249, 31.1269673019263],
  '大世界':[121.488526116754, 31.23313457575015],
  '大华三路':[121.43191882580899, 31.281227929647198],
  '大场镇':[121.425835736944, 31.2985492965567],
  '大木桥路':[121.472422932406, 31.20021573699],
  '大渡河路':[121.40296974071799, 31.237871720843398],
  '大连路':[121.52151981432701, 31.264134986712],
  '天潼路':[121.491149620301, 31.2498459978099],
  '威宁路':[121.396525046263, 31.2208292921883],
  '娄山关路':[121.412554451053, 31.2173341613237],
  '嫩江路':[121.54071641937, 31.32073625010655],
  '宁国路':[121.5413076715, 31.274647245087],
  '安亭':[121.187251889542, 31.3112813714338],
  '宋园路':[121.421252976282, 31.2025219289498],
  '宜山路':[121.436190223513, 31.191601653457496],
  '宝安公路':[121.439673021483, 31.3756324441513],
  '富锦路':[121.433292059167, 31.3983565953903],
  '小南门':[121.50724542067199, 31.2230505542285],
  '岚皋路':[121.430605783942, 31.261641700503798],
  '川沙':[121.706862991613, 31.1927921679393],
  '巨峰路':[121.598060883255, 31.2861653955367],
  '市光路':[121.5406899038455, 31.32878551165975],
  '常熟路':[121.45899107199199, 31.21936666266945],
  '广兰路':[121.629234234278, 31.216800222638],
  '延吉中路':[121.543681363221, 31.2947023338463],
  '延长路':[121.464291381587, 31.277416195899498],
  '张华浜':[121.507347169656, 31.364254713864298],
  '张江高科':[121.59526128134999, 31.207437660188198],
  '彭浦新村':[121.457497497899, 31.3117235821295],
  '徐家汇':[121.445827176799, 31.200761151580473],
  '徐泾东':[121.310310657616, 31.1955292252362],
  '御桥':[121.580363925722, 31.1643858033681],
  '德平路':[121.573808521389, 31.2519353413579],
  '惠南':[121.771245735115, 31.0599291505132],
  '惠南东':[121.802603201932, 31.032476487171298],
  '成山路':[121.50478583064199, 31.1773815128412],
  '打浦桥':[121.477778612453, 31.213125517869],
  '提篮桥':[121.515381694117, 31.2595300107092],
  '文井路':[121.389507406488, 31.0096306409759],
  '新场':[121.657745390255, 31.0514417864456],
  '新天地':[121.483058805915, 31.222153418184398],
  '新村路':[121.431534270745, 31.2707631721456],
  '新江湾城':[121.515270845739, 31.3348660046054],
  '新闸路':[121.47690869659999, 31.2446870519172],
  '昌平路':[121.451623534666, 31.2393852500701],
  '星中路':[121.37737165169099, 31.1646119532215],
  '春申路':[121.394483462109, 31.1043117413463],
  '曲阜路':[121.4803823588365, 31.248398609552503],
  '曲阳路':[121.49898391378, 31.2826031312155],
  '曹杨路':[121.425572078859, 31.244518338574],
  '杨思':[121.502206995687, 31.1670369239988],
  '杨树浦路':[121.525455937553, 31.2584270963063],
  '杨高中路':[121.556570034413, 31.2332300533424],
  '杨高北路':[121.611678155706, 31.2861525688312],
  '杨高南路':[121.532560469885, 31.1937121081616],
  '松江体育中心':[121.239407561319, 31.0219184439153],
  '松江南站':[121.239735794431, 30.9903506852512],
  '松江新城':[121.23942441730699, 31.0361437866537],
  '枫桥路':[121.419074465655, 31.2485664175076],
  '桂林路':[121.425065537996, 31.1805906427434],
  '桃浦新村':[121.35920146986, 31.287491461289598],
  '武威路':[121.371204073165, 31.285970963329298],
  '武宁路':[121.439404156309, 31.2405542533252],
  '殷高东路':[121.51529572229799, 31.327871289498898],
  '民生路':[121.553277378515, 31.2422095960955],
  '水产路':[121.496369084187, 31.3884132265481],
  '水城路':[121.400966490404, 31.2054210940095],
  '汉中路':[121.467005041017, 31.2479262329608],
  '江浦公园':[121.532411907806, 31.2705195865376],
  '江浦路':[121.527292737395, 31.2809770805337],
  '江湾体育场':[121.522725626519, 31.3091481052257],
  '江苏路':[121.44003168181, 31.225521043704347],
  '汶水路':[121.458943650804, 31.29871078292],
  '浦三路':[121.548065294762, 31.1570848405191],
  '浦东大道':[121.528088092493, 31.2459372488879],
  '浦电路':[121.5392085636185, 31.22747792090965],
  '海伦路':[121.497957094767, 31.2651511670917],
  '淞发路':[121.508757271465, 31.3505642131054],
  '淞虹路':[121.36911609664399, 31.2241443938447],
  '源深体育中心':[121.542937519716, 31.238967355600998],
  '滴水湖':[121.938633114863, 30.912918120039198],
  '漕宝路':[121.443658474729, 31.1744423927706],
  '漕河泾开发区':[121.40612798119899, 31.1768368528146],
  '潘广路':[121.364897167134, 31.369951592554298],
  '灵岩南路':[121.50397434777099, 31.1547753738066],
  '爱国路':[121.561269174608, 31.28588071513],
  '申江路':[121.635532773949, 31.2861760140647],
  '真北路':[121.390905238175, 31.2382648309888],
  '真如':[121.416007173647, 31.2569356078669],
  '祁连山南路':[121.376027747916, 31.2436993918834],
  '祁连山路':[121.385893374804, 31.2776158455562],
  '紫藤路':[121.37225877629899, 31.1755075643764],
  '罗山路':[121.601891286073, 31.1593240960202],
  '翔殷路':[121.540658004338, 31.3110982908318],
  '耀华路':[121.503384388696, 31.1845916646412],
  '老西门':[121.4916923034955, 31.22482711355775],
  '肇嘉浜路':[121.4592229895185, 31.2053153406624],
  '航中路':[121.362454683414, 31.171266468594798],
  '航头东':[121.626182967758, 31.0608509957404],
  '芦恒路':[121.50699598977, 31.1242147778778],
  '花木路':[121.570469818522, 31.2191204249212],
  '花桥':[121.113088792127, 31.3048432670281],
  '芳华路':[121.558524373658, 31.1995886317184],
  '莘庄':[121.3938433123175, 31.116730311838673],
  '莲花路':[121.411625802553, 31.1370083540945],
  '蓝村路':[121.53682854794499, 31.21801128381935],
  '虹口足球场':[121.48793918974499, 31.275971160247998],
  '虹桥1号航站楼':[121.355944391455, 31.1976973128159],
  '虹桥火车站':[121.328816398158, 31.199986652541348],
  '虹桥路':[121.42982664295, 31.2031534989082],
  '行知路':[121.430496597507, 31.290736569930598],
  '衡山路':[121.456215423265, 31.2118739787714],
  '西藏北路':[121.477859451944, 31.2696971610375],
  '西藏南路':[121.498330352793, 31.207713275132598],
  '豫园':[121.496232528481, 31.2337863086424],
  '通河新村':[121.450351155031, 31.337031658839],
  '邮电新村':[121.503006939853, 31.274478596119],
  '醉白池':[121.237649936653, 31.0067543456281],
  '金京路':[121.623703099307, 31.2857208919452],
  '金平路':[121.418954662277, 31.0172986175111],
  '金桥路':[121.59038542969, 31.2630409960862],
  '金沙江西路':[121.343916464953, 31.2472233613157],
  '金沙江路':[121.420578111279, 31.2373647633408],
  '金海路':[121.552746668827, 30.46396945681075],
  '金科路':[121.610742075663, 31.21024013832],
  '金运路':[121.328682317389, 31.246994529197],
  '银都路':[121.399005566833, 31.0953527902365],
  '锦江乐园':[121.422853165466, 31.1482487800983],
  '锦绣路':[121.548660472781, 31.1936800779883],
  '镇坪路':[121.4400086076145, 31.25277062164205],
  '长寿路':[121.446459649563, 31.2464685823612],
  '长清路':[121.49609784601, 31.1815997866164],
  '闵行开发区':[121.378459456088, 31.0066610689128],
  '陆家嘴':[121.511274076548, 31.244198692654198],
  '陆家浜路':[121.494516752013, 31.2179324975827],
  '陕西南路':[121.46792223119701, 31.2220205206194],
  '隆德路':[121.432351995023, 31.2365611288244],
  '隆昌路':[121.553732648433, 31.2815501294222],
  '静安寺':[121.456873080423, 31.2301159487874],
  '鞍山新村':[121.517936769196, 31.2789959605097],
  '顾村公园':[121.380974841473, 31.351866319057798],
  '颛桥':[121.410564153455, 31.0730342517968],
  '马当路':[121.48516566452899, 31.2153923664793],
  '高科西路':[121.5188978260075, 31.191639139742648],
  '高青路':[121.52441401847, 31.1654641090969],
  '鲁班路':[121.48387734900899, 31.2052291045631],
  '鹤沙航城':[121.61997937950599, 31.083614697041],
  '黄兴公园':[121.541888095813, 31.3018466336653],
  '黄兴路':[121.536077290142, 31.284298210967798],
  '黄陂南路':[121.482581964968, 31.229066458418398],
  '龙华':[121.461984937373, 31.1789869119167],
  '龙华中路':[121.46614944044799, 31.1908330951204],
  '龙柏新村':[121.379481578675, 31.1834531165456],
  '龙溪路':[121.39010890551, 31.2011793813599],
  '龙耀路':[121.468452399662, 31.165629724681498],
  '龙阳路':[121.56657870487399, 31.20878975787995]
};

var convertData = function (data) {
    var res = [];
    for (var i = 0; i < data.length; i++) {
        var geoCoord = geoCoordMap[data[i].name];
        if (geoCoord) {
            res.push({
                name: data[i].name,
                value: geoCoord.concat(data[i].value)
            });
        }
    }
    return res;
};

option = {
    title: {
        text: '上海地铁站500米内摩拜单车数量 - 百度地图',
        subtext: 'data from mobike',
        sublink: 'http://www.pm25.in',
        left: 'center'
    },
    tooltip : {
        trigger: 'item'
    },
    bmap: {
        center: [121.511274076548, 31.244198692654198],
        zoom: 12,
        roam: true,
        mapStyle: {
            styleJson: [{
                'featureType': 'water',
                'elementType': 'all',
                'stylers': {
                    'color': '#d1d1d1'
                }
            }, {
                'featureType': 'land',
                'elementType': 'all',
                'stylers': {
                    'color': '#f3f3f3'
                }
            }, {
                'featureType': 'railway',
                'elementType': 'all',
                'stylers': {
                    'visibility': 'off'
                }
            }, {
                'featureType': 'highway',
                'elementType': 'all',
                'stylers': {
                    'color': '#fdfdfd'
                }
            }, {
                'featureType': 'highway',
                'elementType': 'labels',
                'stylers': {
                    'visibility': 'off'
                }
            }, {
                'featureType': 'arterial',
                'elementType': 'geometry',
                'stylers': {
                    'color': '#fefefe'
                }
            }, {
                'featureType': 'arterial',
                'elementType': 'geometry.fill',
                'stylers': {
                    'color': '#fefefe'
                }
            }, {
                'featureType': 'poi',
                'elementType': 'all',
                'stylers': {
                    'visibility': 'off'
                }
            }, {
                'featureType': 'green',
                'elementType': 'all',
                'stylers': {
                    'visibility': 'off'
                }
            }, {
                'featureType': 'subway',
                'elementType': 'all',
                'stylers': {
                    'visibility': 'off'
                }
            }, {
                'featureType': 'manmade',
                'elementType': 'all',
                'stylers': {
                    'color': '#d1d1d1'
                }
            }, {
                'featureType': 'local',
                'elementType': 'all',
                'stylers': {
                    'color': '#d1d1d1'
                }
            }, {
                'featureType': 'arterial',
                'elementType': 'labels',
                'stylers': {
                    'visibility': 'off'
                }
            }, {
                'featureType': 'boundary',
                'elementType': 'all',
                'stylers': {
                    'color': '#fefefe'
                }
            }, {
                'featureType': 'building',
                'elementType': 'all',
                'stylers': {
                    'color': '#d1d1d1'
                }
            }, {
                'featureType': 'label',
                'elementType': 'labels.text.fill',
                'stylers': {
                    'color': '#999999'
                }
            }]
        }
    },
    series : [
        {
            name: 'pm2.5',
            type: 'scatter',
            coordinateSystem: 'bmap',
            data: convertData(data),
            symbolSize: function (val) {
                return val[2] / 50;
            },
            label: {
                normal: {
                    formatter: '{b}',
                    position: 'right',
                    show: false
                },
                emphasis: {
                    show: true
                }
            },
            itemStyle: {
                normal: {
                    color: '#ee0000'
                }
            }
        },
        {
            name: 'Top 5',
            type: 'effectScatter',
            coordinateSystem: 'bmap',
            data: convertData(data.sort(function (a, b) {
                return b.value - a.value;
            }).slice(0, 6)),
            symbolSize: function (val) {
                return val[2] / 50;
            },
            showEffectOn: 'render',
            rippleEffect: {
                brushType: 'stroke'
            },
            hoverAnimation: true,
            label: {
                normal: {
                    formatter: '{b}',
                    position: 'right',
                    show: true
                }
            },
            itemStyle: {
                normal: {
                    color: '#ee0000',
                    shadowBlur: 10,
                    shadowColor: '#333'
                }
            },
            zlevel: 1
        }
    ]
};;


    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }
       </script>
   </body>
</html>
